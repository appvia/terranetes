<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-admin/cloudresource">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Cloud Resources | Appvia Terranetes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://terranetes.appvia.io/terranetes-controller/admin/cloudresource/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Cloud Resources | Appvia Terranetes"><meta data-rh="true" name="description" content="This feature is only available from &gt;= v0.3.32 releases"><meta data-rh="true" property="og:description" content="This feature is only available from &gt;= v0.3.32 releases"><link data-rh="true" rel="icon" href="/img/favicon-docs.svg"><link data-rh="true" rel="canonical" href="https://terranetes.appvia.io/terranetes-controller/admin/cloudresource/"><link data-rh="true" rel="alternate" href="https://terranetes.appvia.io/terranetes-controller/admin/cloudresource/" hreflang="en"><link data-rh="true" rel="alternate" href="https://terranetes.appvia.io/terranetes-controller/admin/cloudresource/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://8UYG6BE3N6-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-120919526-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120919526-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-120919526-1",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Appvia Terranetes" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.f70c6580.css">
<link rel="preload" href="/assets/js/runtime~main.718cb70e.js" as="script">
<link rel="preload" href="/assets/js/main.db1384be.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://terranetes.io/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/logo.svg" alt="Terranetes Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo-dark.svg" alt="Terranetes Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/terranetes-controller/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/appvia/terranetes-controller" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/terranetes-controller/">What is Terranetes?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/terranetes-controller/quick_start/">Quick start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/terranetes-controller/releases/">Releases</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/terranetes-controller/architecture/">Architecture</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/terranetes-controller/category/workflows/">Workflows</a><button aria-label="Toggle the collapsible sidebar category &#x27;Workflows&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/terranetes-controller/category/administration/">Administration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Administration&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item green"><a class="menu__link" tabindex="0" href="/terranetes-controller/admin/providers/">Configure Providers</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/terranetes-controller/category/define-guardrails/">Define Guardrails</a><button aria-label="Toggle the collapsible sidebar category &#x27;Define Guardrails&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item green"><a class="menu__link" tabindex="0" href="/terranetes-controller/admin/contexts/">Contexts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item green"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/terranetes-controller/admin/cloudresource/">Cloud Resources</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/terranetes-controller/category/observability/">Observability</a><button aria-label="Toggle the collapsible sidebar category &#x27;Observability&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item green"><a class="menu__link" tabindex="0" href="/terranetes-controller/admin/costs/">Expose Costs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terranetes-controller/admin/defaults/">Injecting Defaults</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terranetes-controller/admin/drift/">Drift Detection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terranetes-controller/admin/state/">Terraform State</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item green"><a class="menu__link" tabindex="0" href="/terranetes-controller/admin/rbac/">Kubernetes RBAC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terranetes-controller/admin/template/">Customize Job Template</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/terranetes-controller/admin/secrets/">Additional Secrets</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/terranetes-controller/category/developer-docs/">Developer Docs</a><button aria-label="Toggle the collapsible sidebar category &#x27;Developer Docs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/terranetes-controller/category/walk-throughs/">Walk Throughs</a><button aria-label="Toggle the collapsible sidebar category &#x27;Walk Throughs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/terranetes-controller/category/api-reference/">API Reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;API Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/terranetes-controller/category/cli-reference/">CLI Reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;CLI Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/terranetes-controller/category/administration/"><span itemprop="name">Administration</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Cloud Resources</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Cloud Resources</h1><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>This feature is only available from &gt;= v0.3.32 releases</p></div></div><p>Terranetes supports two interfaces to provisioning cloud resources; <a href="/terranetes-controller/reference/configurations.terraform.appvia.io/">Configurations</a> which are the legacy implementation and the <a href="/terranetes-controller/reference/cloudresources.terraform.appvia.io/">CloudResources</a>. While <a href="/terranetes-controller/reference/configurations.terraform.appvia.io/">Configurations</a> provides a one-to-one mapping to the Terraform module, <a href="/terranetes-controller/reference/cloudresources.terraform.appvia.io/">CloudResources</a> takes a more managed approach. Rather the exposing the entirety of options to the consumer, <a href="/terranetes-controller/reference/configurations.terraform.appvia.io/">CloudResources</a> pick and choose which attributes are exposed, thus reducing the heavy lifting by the users and well and ensuring options do not diverge from a known path.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Note, while the user facing interface is the <a href="/terranetes-controller/reference/cloudresources.terraform.appvia.io/">CloudResource</a>, a managed <a href="/terranetes-controller/reference/configurations.terraform.appvia.io/">Configuration</a> is created by the controller as the implementation detail. You can think of <a href="/terranetes-controller/reference/cloudresources.terraform.appvia.io/">CloudResources</a> as a means of creating a managed <a href="/terranetes-controller/reference/configurations.terraform.appvia.io/">Configuration</a>.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-are-revisions">What are Revisions?<a href="#what-are-revisions" class="hash-link" aria-label="Direct link to What are Revisions?" title="Direct link to What are Revisions?">â€‹</a></h2><p><a href="/terranetes-controller/reference/revisions.terraform.appvia.io/">Revisions</a> are the templates for <a href="/terranetes-controller/reference/cloudresources.terraform.appvia.io/">CloudResources</a>, each of these are versioned assets which has been curated and tested against, containing the defaults the organization requires and exposing only the functionality which is contextual. The basic gist is;</p><ul><li><a href="/terranetes-controller/reference/revisions.terraform.appvia.io/">Revisions</a> point to a terraform module.</li><li>They contain all the default options which the platform wants defaults to in the module.</li><li>They contain all the options which they want exposed to the consumer.</li><li>Versions can track the upstream terraform module, or move independently of it.</li><li>All <a href="/terranetes-controller/reference/cloudresources.terraform.appvia.io/">CloudResources</a> reference back to a <a href="/terranetes-controller/reference/revisions.terraform.appvia.io/">Revision</a> in the cluster.</li><li>To upgrade a <a href="/terranetes-controller/reference/cloudresources.terraform.appvia.io/">CloudResource</a> consumer update the <a href="/terranetes-controller/reference/revisions.terraform.appvia.io/">Revision</a> it points to.</li></ul><p>The following depicts the relations between Plans (a collection of <a href="/terranetes-controller/reference/revisions.terraform.appvia.io/">Revisions</a>), <a href="/terranetes-controller/reference/cloudresources.terraform.appvia.io/">CloudResources</a> and the <a href="/terranetes-controller/reference/configurations.terraform.appvia.io/">Configuration</a> it manages.</p><img loading="lazy" src="/img/cloudresources.png" class="img_ev3q"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="revision-specification">Revision specification?<a href="#revision-specification" class="hash-link" aria-label="Direct link to Revision specification?" title="Direct link to Revision specification?">â€‹</a></h2><p><a href="/terranetes-controller/reference/revisions.terraform.appvia.io/">Revisions</a> are made up for <strong>three</strong> sections</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="plan">Plan<a href="#plan" class="hash-link" aria-label="Direct link to Plan" title="Direct link to Plan">â€‹</a></h3><p>Describes the metadata associated to the Revisions; the version, description, categories and so forth.</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">## Defines we are a member of a package</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">plan</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">## Is the name of the package we are a part of</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fake</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">## Is a collection of categories</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">categories</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">mysql</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> aws</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fake</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">## Is a description for what this plan provides</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Provides a dummy terraform module for testing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">## Is the version of the package</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">revision</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v0.0.3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><strong>name</strong>: is probably the most important field here, as all <a href="/terranetes-controller/reference/revisions.terraform.appvia.io/">Revisions</a> are grouped by this field. <a href="/terranetes-controller/reference/revisions.terraform.appvia.io/">Revisions</a> with the same <code>spec.plan.name</code> are logically grouped into a <a href="/terranetes-controller/reference/plans.terraform.appvia.io/">Plan</a>. Plans order these Revisions using semvar. So when a <a href="/terranetes-controller/reference/cloudresources.terraform.appvia.io/">CloudResource</a> references a Plan <code>database</code>, without specifying a version; it looks up the <a href="/terranetes-controller/reference/plans.terraform.appvia.io/">Plan</a> and retrieves the latest version. If it specifies a version, it looks up the <a href="/terranetes-controller/reference/plans.terraform.appvia.io/">Plan</a> and checks a <a href="/terranetes-controller/reference/revisions.terraform.appvia.io/">Revision</a> of said version exists.</li><li><strong>categories</strong>: is a collection of tags associated to the revision, these are user facing and largely used for searching.</li><li><strong>description</strong>: provides a human readable description of the intended use for the <a href="/terranetes-controller/reference/revisions.terraform.appvia.io/">Revision</a></li><li><strong>revision</strong>: is semvar version associated to this revision.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="inputs">Inputs<a href="#inputs" class="hash-link" aria-label="Direct link to Inputs" title="Direct link to Inputs">â€‹</a></h3><p><a href="/terranetes-controller/reference/revisions.terraform.appvia.io/#v1alpha1-.spec.configuration">Inputs</a> are the options the platform team want to expose to the consumers.</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">## Is a list of inputs the user is permitted to override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">inputs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sentence</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Is a sentence we want to print</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">required</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">default</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> hello from second additional</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> vpc_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Hello</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> A list of names</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">default</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">values</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><strong>key</strong>: (required) maps to the terraform variable within the module the <a href="/terranetes-controller/reference/revisions.terraform.appvia.io/">Revision</a> is backing.</li><li><strong>description</strong>: (required) provides a human readable description to the variable.</li><li><strong>required</strong>: (optional) indicates if the user MUST specify a value.</li><li><strong>default.value</strong>: (optional) can be a string, number, list or map and is used as the default value for the variable.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration">â€‹</a></h3><p>The last section is provides a template to the <a href="/terranetes-controller/reference/configurations.terraform.appvia.io/">Configuration</a>, determining the module source, default values, enabled features and so forth.</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">configuration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">## Using a public repository</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">module</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> https</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//github.com/appvia/terranetes</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">controller.git//test/e2e/assets/terraform/dummy</span><span class="token punctuation" style="color:#393A34">?</span><span class="token plain">ref=master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">## Where to write any secrets</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">writeConnectionSecretToRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> outputs</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Thus the managed <a href="/terranetes-controller/reference/configurations.terraform.appvia.io/">Configuration</a> at the end is a combination of this section plus the optional inputs from above.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-create-revisions">How to create Revisions?<a href="#how-to-create-revisions" class="hash-link" aria-label="Direct link to How to create Revisions?" title="Direct link to How to create Revisions?">â€‹</a></h2><p>By hand of course, a <a href="/terranetes-controller/reference/revisions.terraform.appvia.io/">Revision</a> is nothing more standard CRD; however using the <a href="/terranetes-controller/cli/tnctl_create_revision/">tnctl create revision</a> command.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tnctl create revision https://github.com/terraform-aws-modules/terraform-aws-rds?ref</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">v5.9.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-validate-a-revision">How to validate a Revision?<a href="#how-to-validate-a-revision" class="hash-link" aria-label="Direct link to How to validate a Revision?" title="Direct link to How to validate a Revision?">â€‹</a></h2><p>Part of the responsibility model of using <a href="/terranetes-controller/reference/cloudresources.terraform.appvia.io/">CloudResources</a> is passing a known and tested asset to the consumer. Terranetes tries to make this workflow simpler by using the <a href="/terranetes-controller/cli/tnctl_verify_revision/">tnctl verify revision</a>.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ tnctl verify revision revision.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">? Input identifier is a mandatory input, what should it&#x27;s value be? </span><span class="token builtin class-name">test</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ğŸ”° Validating Revision Syntax</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ The Revision CRD is syntactically correct with no errors found             ğŸŸ¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ğŸ”° Validating Revision Specification</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ The Revision does not have any categories defined                          ğŸŸ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ The Revision has a description defined                                     ğŸŸ¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ The Revision has the default description defined                           ğŸŸ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ The Revision has a changelog defined                                       ğŸŸ¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ The Revision has the default changelog defined                             ğŸŸ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ğŸ”° Validating Revision Inputs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ Checking input: backup_window                                              ğŸŸ¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ Checking input: allocated_storage                                          ğŸŸ¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ Checking input: identifier                                                 ğŸŸ¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ğŸ”° Retrieving Checkov Version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ Discovered Checkov version: </span><span class="token string" style="color:#e3116c">&quot;bridgecrew/checkov:2.3.291&quot;</span><span class="token plain">                   ğŸŸ¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ğŸ”° Retrieving Terraform Version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ Discovered Terraform version: </span><span class="token string" style="color:#e3116c">&quot;hashicorp/terraform:1.5.6&quot;</span><span class="token plain">                  ğŸŸ¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ğŸ”° Validating Module Policy permits Revision</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ Found </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> module constraint policies                                         ğŸŸ¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ Revision is not permitted by any policy                                    ğŸ”´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ğŸ”° Validating Cloud Credentials Provider</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ Checking </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> we providers associated with the revision                      ğŸŸ¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ Provider referenced exists </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> cluster                                      ğŸŸ¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ğŸ”° Validating of Context References</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ Revision does not reference any values from context/s                      ğŸŸ¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ğŸ”° Validating against Checkov Security Policy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ Checkov is using the code, not the plan, consider --use-terraform-plan     ğŸŸ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ Found </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> security policies to validate against                              ğŸŸ¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ Revision has passed </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"> checks </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> policy: </span><span class="token string" style="color:#e3116c">&quot;checkov&quot;</span><span class="token plain">                         ğŸŸ¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ Check ID against documentation: https://docs.bridgecrew.io/docs            ğŸŸ¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ Ensure that RDS instances have Multi-AZ enabled                            ğŸ”´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Check ID: CKV_AWS_157</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Resource: module.main.module.db_instance.aws_db_instance.this</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ Ensure that RDS instances have performance insights enabled                ğŸ”´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Check ID: CKV_AWS_353</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Resource: module.main.module.db_instance.aws_db_instance.this</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ Ensure that respective logs of Amazon Relational Database Service </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Am      ğŸ”´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Check ID: CKV_AWS_129</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Resource: module.main.module.db_instance.aws_db_instance.this</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ Ensure that AWS database instances have deletion protection enabled        ğŸ”´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Check ID: CKV_AWS_293</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Resource: module.main.module.db_instance.aws_db_instance.this</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ Ensure that RDS instances has backup policy                                ğŸ”´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Check ID: CKV_AWS_133</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Resource: module.main.module.db_instance.aws_db_instance.this</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ Ensure that enhanced monitoring is enabled </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> Amazon RDS instances        ğŸ”´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Check ID: CKV_AWS_118</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Resource: module.main.module.db_instance.aws_db_instance.this</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ Ensure CloudWatch log </span><span class="token function" style="color:#d73a49">groups</span><span class="token plain"> retains logs </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> at least </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> year              ğŸ”´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Check ID: CKV_AWS_338</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Resource: module.main.module.db_instance.aws_cloudwatch_log_group.this</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ Ensure RDS instance with copy tags to snapshots is enabled                 ğŸ”´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Check ID: CKV2_AWS_60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Resource: module.main.module.db_instance.aws_db_instance.this</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â–«ï¸ Revision will fail on security policy: </span><span class="token string" style="color:#e3116c">&quot;checkov&quot;</span><span class="token plain">                           ğŸ”´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ğŸŸ¢ Passed: </span><span class="token number" style="color:#36acaa">8</span><span class="token plain">, Warning: </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ğŸ”´ Failed: </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Error</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: revision failed verification checks</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>The default validation checks the codebase but not the terraform plan. For a more complete validation we&#x27;d recommend passing read-only credentials and using the <code>--use-terraform-plan</code> flag, exporting the usual environment variable such as AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY and so forth.</p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/appvia/terranetes/tree/master/docs/terranetes-controller/admin/cloudresource.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-02-22T11:39:51.000Z">Feb 22, 2024</time></b> by <b>dependabot[bot]</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/terranetes-controller/admin/contexts/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Contexts</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/terranetes-controller/category/observability/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Observability</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-are-revisions" class="table-of-contents__link toc-highlight">What are Revisions?</a></li><li><a href="#revision-specification" class="table-of-contents__link toc-highlight">Revision specification?</a><ul><li><a href="#plan" class="table-of-contents__link toc-highlight">Plan</a></li><li><a href="#inputs" class="table-of-contents__link toc-highlight">Inputs</a></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a></li></ul></li><li><a href="#how-to-create-revisions" class="table-of-contents__link toc-highlight">How to create Revisions?</a></li><li><a href="#how-to-validate-a-revision" class="table-of-contents__link toc-highlight">How to validate a Revision?</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Products</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/terranetes-controller/">Terraform Controller</a></li><li class="footer__item"><a class="footer__link-item" href="/tf2helm/">tf2helm</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://kubernetes.slack.com/channels/terranetes" target="_blank" rel="noopener noreferrer" class="footer__link-item">Kubernetes Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/appvia_io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.appvia.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Wayfinder<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/appvia/krane" target="_blank" rel="noopener noreferrer" class="footer__link-item">Krane<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/appvia" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 Appvia Ltd. All rights reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.718cb70e.js"></script>
<script src="/assets/js/main.db1384be.js"></script>
</body>
</html>