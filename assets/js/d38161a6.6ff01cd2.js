"use strict";(self.webpackChunkterranetes=self.webpackChunkterranetes||[]).push([["8465"],{5774:function(e,t,r){r.r(t),r.d(t,{metadata:()=>a,contentTitle:()=>i,default:()=>h,assets:()=>l,toc:()=>c,frontMatter:()=>s});var a=JSON.parse('{"id":"create-your-own-packages","title":"Creating Helm Packages","description":"If you wish to adopt the Terranetes pattern, then you need to convert your Terraform module into a Helm package before storing it in a Helm repository, which can then be integrated with, and accessed from, artifacthub.io.","source":"@site/docs/tf2helm/create-your-own-packages.md","sourceDirName":".","slug":"/create-your-own-packages","permalink":"/tf2helm/create-your-own-packages","draft":false,"unlisted":false,"editUrl":"https://github.com/appvia/terranetes/tree/master/docs/tf2helm/create-your-own-packages.md","tags":[],"version":"current","lastUpdatedBy":"dependabot[bot]","lastUpdatedAt":1745161829000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Creating Helm Packages"},"sidebar":"tutorialSidebar","previous":{"title":"Overview","permalink":"/tf2helm/"},"next":{"title":"Frequently Asked Questions","permalink":"/tf2helm/faqs"}}'),o=r("5893"),n=r("65");let s={sidebar_position:2,title:"Creating Helm Packages"},i="Creating Your Own Helm Packages",l={},c=[{value:"Automate Terraform to Helm conversion",id:"automate-terraform-to-helm-conversion",level:2},{value:"Convert a local Terraform module",id:"convert-a-local-terraform-module",level:3},{value:"Convert a remote Terraform module",id:"convert-a-remote-terraform-module",level:3}];function m(e){let t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,n.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"creating-your-own-helm-packages",children:"Creating Your Own Helm Packages"})}),"\n",(0,o.jsxs)(t.p,{children:["If you wish to adopt the Terranetes pattern, then you need to convert your Terraform module into a Helm package before storing it in a ",(0,o.jsx)(t.a,{href:"https://helm.sh/docs/topics/chart_repository/#hosting-chart-repositories",children:"Helm repository"}),", which can then be integrated with, and accessed from, ",(0,o.jsx)(t.a,{href:"https://artifacthub.io/",children:"artifacthub.io"}),"."]}),"\n",(0,o.jsx)(t.p,{children:"Each Helm package or chart must include the following files:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:".\n\u251C\u2500\u2500 Chart.yaml              # A YAML file containing information about the chart\n\u251C\u2500\u2500 templates\n\u2502   \u251C\u2500\u2500 _helpers.tpl        # A file containing helper templates and partials\n\u2502   \u2514\u2500\u2500 CHART_NAME.yaml     # A Terraform Operator Custom Resource Definition Object\n\u2514\u2500\u2500 values.yaml             # Required and optional configuration values\n"})}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.code,{children:"CHART_NAME.yaml"})," file contains a ",(0,o.jsx)(t.a,{href:"https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/",children:"Kubernetes Custom Resource"})," understood and managed by the ",(0,o.jsx)(t.a,{href:"/terranetes-controller",children:"Appvia Terraform Controller"})," component."]}),"\n",(0,o.jsx)(t.h2,{id:"automate-terraform-to-helm-conversion",children:"Automate Terraform to Helm conversion"}),"\n",(0,o.jsxs)(t.p,{children:["You can use the ",(0,o.jsx)(t.a,{href:"https://github.com/appvia/tf2helm",children:"tf2helm"})," tool to automate the conversion of your Terraform module to a Helm package."]}),"\n",(0,o.jsx)(t.h3,{id:"convert-a-local-terraform-module",children:"Convert a local Terraform module"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:'tf2helm --tf_module_path="path/to/local/terraform/module/appvia-tf-efs" --tf_version=1.1.7 --name=acp-tf-efs --version=0.1.0 --app_version=0.1.0 --output_dir=charts\n\u2714 Translate Terraform module\n\u2714 Create Helm Chart\n\u2714 Update Helm Chart with Terraform Custom Resource\n\uD83D\uDE80 Helm Chart is available at charts/appvia-tf-efs\n'})}),"\n",(0,o.jsx)(t.h3,{id:"convert-a-remote-terraform-module",children:"Convert a remote Terraform module"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:'tf2helm --tf_module_url="https://github.com/terraform-aws-modules/terraform-aws-s3-bucket?ref=v3.1.0" --tf_version=1.1.7 --name=aws-s3-bucket --version=0.1.0 --app_version=0.1.0 --output_dir=charts\n\u2714 Download Terraform module\n\u2714 Translate Terraform module\n\u2714 Create Helm Chart\n\u2714 Update Helm Chart with Terraform Custom Resource\n\uD83D\uDE80 Helm Chart is available at charts/aws-s3-bucket\n'})})]})}function h(e={}){let{wrapper:t}={...(0,n.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(m,{...e})}):m(e)}},65:function(e,t,r){r.d(t,{Z:function(){return i},a:function(){return s}});var a=r(7294);let o={},n=a.createContext(o);function s(e){let t=a.useContext(n);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),a.createElement(n.Provider,{value:t},e.children)}}}]);